<!DOCTYPE html>
<html lang='en'>
    <head>
        <meta charset='UTF-8' />
        <meta name='viewport' content='width=device-width, initial-scale=1.0' />
        <title>PharmaQMS Hunter</title>
        <style>
            /* Pre-React loading styles */
            #root-loading {
                display: flex;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                min-height: 100vh;
                background: oklch(0.99 0 0);
                color: oklch(0.15 0 0);
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
                padding: 2rem;
                text-align: center;
            }
            
            #root-loading img {
                max-width: 300px;
                width: 100%;
                height: auto;
                margin-bottom: 2rem;
                animation: fadeIn 0.6s ease-in;
            }
            
            #root-loading-text {
                font-size: 1.125rem;
                font-weight: 500;
                color: oklch(0.50 0 0);
                animation: pulse 2s ease-in-out infinite;
            }
            
            #root-loading-error {
                display: none;
                max-width: 600px;
                padding: 1.5rem;
                background: oklch(0.96 0.01 160);
                border: 1px solid oklch(0.90 0 0);
                border-radius: 0.5rem;
                margin-top: 1rem;
            }
            
            #root-loading-error h2 {
                font-size: 1.25rem;
                font-weight: 600;
                color: oklch(0.55 0.22 25);
                margin-bottom: 0.75rem;
            }
            
            #root-loading-error p {
                font-size: 0.875rem;
                color: oklch(0.50 0 0);
                line-height: 1.5;
                margin-bottom: 0.5rem;
            }
            
            #root-loading-error button {
                margin-top: 1rem;
                padding: 0.5rem 1.5rem;
                background: oklch(0.45 0.15 160);
                color: oklch(0.99 0 0);
                border: none;
                border-radius: 0.375rem;
                font-weight: 500;
                cursor: pointer;
                transition: background 0.2s;
            }
            
            #root-loading-error button:hover {
                background: oklch(0.40 0.15 160);
            }
            
            @keyframes fadeIn {
                from { opacity: 0; transform: translateY(-10px); }
                to { opacity: 1; transform: translateY(0); }
            }
            
            @keyframes pulse {
                0%, 100% { opacity: 1; }
                50% { opacity: 0.5; }
            }
            
            @media (prefers-color-scheme: dark) {
                #root-loading {
                    background: oklch(0.12 0 0);
                    color: oklch(0.98 0 0);
                }
                #root-loading-text {
                    color: oklch(0.65 0 0);
                }
                #root-loading-error {
                    background: oklch(0.22 0.02 160);
                    border-color: oklch(0.25 0 0);
                }
                #root-loading-error h2 {
                    color: oklch(0.60 0.20 25);
                }
                #root-loading-error p {
                    color: oklch(0.65 0 0);
                }
                #root-loading-error button {
                    background: oklch(0.65 0.18 160);
                    color: oklch(0.12 0 0);
                }
                #root-loading-error button:hover {
                    background: oklch(0.70 0.18 160);
                }
            }
        </style>
    </head>
    <body>
        <div id='root'>
            <div id="root-loading">
                <img src="/assets/generated/pharmaqms-hunter-wordmark.dim_1200x300.png" alt="PharmaQMS Hunter" />
                <div id="root-loading-text">Loading your job search platform...</div>
                <div id="root-loading-error">
                    <h2>Unable to Load Application</h2>
                    <p>The application failed to initialize. This may be due to a network issue or browser compatibility problem.</p>
                    <p>Please try refreshing the page or check your internet connection.</p>
                    <button onclick="window.location.reload()">Refresh Page</button>
                </div>
            </div>
        </div>
        <noscript>
            <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; padding: 2rem; text-align: center; font-family: sans-serif;">
                <h1 style="font-size: 1.5rem; font-weight: 600; margin-bottom: 1rem;">JavaScript Required</h1>
                <p style="color: #666; max-width: 500px;">PharmaQMS Hunter requires JavaScript to run. Please enable JavaScript in your browser settings and refresh the page.</p>
            </div>
        </noscript>
        <script type='module' src='/src/main.tsx' onerror="
            document.getElementById('root-loading-text').style.display = 'none';
            document.getElementById('root-loading-error').style.display = 'block';
        "></script>
        <script>
            // Catch module load errors
            window.addEventListener('error', function(event) {
                if (event.filename && event.filename.includes('/src/')) {
                    var loadingText = document.getElementById('root-loading-text');
                    var errorDiv = document.getElementById('root-loading-error');
                    if (loadingText && errorDiv) {
                        loadingText.style.display = 'none';
                        errorDiv.style.display = 'block';
                    }
                }
            }, true);
            
            // Timeout fallback if React doesn't mount within 10 seconds
            setTimeout(function() {
                var rootLoading = document.getElementById('root-loading');
                if (rootLoading && rootLoading.parentElement) {
                    var loadingText = document.getElementById('root-loading-text');
                    var errorDiv = document.getElementById('root-loading-error');
                    if (loadingText && errorDiv) {
                        loadingText.style.display = 'none';
                        errorDiv.style.display = 'block';
                    }
                }
            }, 10000);
        </script>
    </body>
</html>
